═══════════════════════════════════════════════════════════════
✅ РУНЫ ИСПРАВЛЕНЫ - 1 РАУНД (НЕ 2!)
═══════════════════════════════════════════════════════════════

═══════════════════════════════════════════════════════════════
ЧТО ТАКОЕ РАУНД:
═══════════════════════════════════════════════════════════════

РАУНД = Полный цикл ходов обоих игроков

Пример:
Раунд 1 = Ход игрока + Ход бота
Раунд 2 = Ход игрока + Ход бота
Раунд 3 = Ход игрока + Ход бота


═══════════════════════════════════════════════════════════════
КАК РАБОТАЮТ РУНЫ:
═══════════════════════════════════════════════════════════════

ЕСЛИ ИГРОК ПРИМЕНИЛ РУНУ:
--------------------------
1. Ход игрока (применил руну) → руна активна ✅
2. Ход бота → руна активна ✅
3. Конец раунда → счетчик: 1 → 0 → руна истекла
4. След. ход игрока → руна НЕ активна ❌

ЕСЛИ БОТ ПРИМЕНИЛ РУНУ:
------------------------
1. Ход бота (применил руну) → руна активна ✅
2. Ход игрока → руна активна ✅
3. Конец раунда → счетчик: 1 → 0 → руна истекла
4. След. ход бота → руна НЕ активна ❌


═══════════════════════════════════════════════════════════════
ДЛИТЕЛЬНОСТЬ:
═══════════════════════════════════════════════════════════════

runeDurations[cardName] = 1

Это значит:
- Руна действует до конца текущего раунда
- После хода бота: счетчик уменьшается на 1
- Если счетчик = 0 → руна истекает

ПРИМЕР (игрок применил):
Раунд 1, ход игрока: применил невидимость → счетчик = 1
Раунд 1, ход бота: карта всё ещё невидима → счетчик = 1
Конец раунда 1: счетчик 1 → 0 → руна истекла
Раунд 2, ход игрока: карта больше НЕ невидима


═══════════════════════════════════════════════════════════════
КОД:
═══════════════════════════════════════════════════════════════

При применении руны:
```javascript
this.battleState.runeDurations[targetCard.name] = 1;
console.log('👻 Карта стала невидимой на 1 раунд');
```

После хода бота (конец раунда):
```javascript
this.battleState.round++;
this.decreaseRuneDurations(); // уменьшает все счетчики на 1
```

В decreaseRuneDurations():
```javascript
Object.keys(this.battleState.runeDurations).forEach(cardName => {
    this.battleState.runeDurations[cardName]--;
    if (this.battleState.runeDurations[cardName] <= 0) {
        delete this.battleState.runeDurations[cardName];
        // Руна истекла
    }
});
```


═══════════════════════════════════════════════════════════════
ПОДСКАЗКИ В ИГРЕ:
═══════════════════════════════════════════════════════════════

БЫЛО:
"Карта получила щит! +40% защиты на 2 хода."
"Карта невидима! Не может быть атакован 2 хода."

СТАЛО:
"Карта получила щит! +40% защиты на этот раунд."
"Карта невидима! Не может быть атакован этот раунд."


═══════════════════════════════════════════════════════════════
ЛОГИ В КОНСОЛИ:
═══════════════════════════════════════════════════════════════

При применении руны:
```
🛡️ Карта получила щит на 1 раунд: Invoker
```

После хода бота (конец раунда):
```
📊 Раунд увеличен: 1 → 2
⏱️ Уменьшаем длительность рун (конец раунда)
⏱️ Руна на Invoker: 1 → 0 раундов
⏱️ Длительность руны на Invoker истекла!
🛡️ Щит истек: Invoker
```


═══════════════════════════════════════════════════════════════
КАК ПРОВЕРИТЬ:
═══════════════════════════════════════════════════════════════

1. Начните бой
2. Используйте руну на свою карту (например щит)
3. Атакуйте картой → руна работает ✅
4. Бот атакует → руна работает ✅
5. Конец раунда → руна истекает
6. Ваш следующий ход → руна НЕ работает ❌

ПРОВЕРКА В КОНСОЛИ:
F12 → смотрите логи после хода бота:
"⏱️ Руна на [имя]: 1 → 0 раундов"
"⏱️ Длительность руны на [имя] истекла!"


═══════════════════════════════════════════════════════════════
ИЗМЕНЕНИЯ:
═══════════════════════════════════════════════════════════════

1. runeDurations = 1 (было 2)
2. Подсказки: "на этот раунд" (было "на 2 хода")
3. Логи: "на 1 раунд" (было "на 2 хода")


═══════════════════════════════════════════════════════════════
✨ ГОТОВО!
═══════════════════════════════════════════════════════════════

Руна длится ровно 1 раунд:
- Ход того кто применил ✅
- Ход противника ✅
- След. ход → руна истекла ❌

Обновите страницу и проверьте!

